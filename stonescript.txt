var shouldHarvest
?loc.begin
    shouldHarvest = false

// var button
// func OnPressed()
//     shouldHarvest = !shouldHarvest
//     // Set button text
//     button.text = "Enable Harvesting"
//     ?!shouldHarvest
//         button.text = "Disable Harvesting"

// ?loc.begin
//     button = ui.AddButton()
//     button.y = 0
//     button.text = "Disable Harvesting"
//     button.SetPressed(OnPressed)


func equip_dash()
    equipL sword 
    equipR shield dashing

// Default 
equipL triskelion
equipR ouroboros

?pickup.distance < 10
    equipL star

?loc = deadwood
    // ?hp < 7
    //     activate potion

    // Harvesting
    ?harvest.distance < 10 & shouldHarvest
        equip hatchet

    // Fighting
    ?foe.distance < 16
        // General
        ?foe = mosquito
            equipL vigor wand
            equipR experience // swap with oro for healing
        :
            equipL sword
            equipR ouroboros
    
    // Boss
    ?foe = boss & foe.distance < 20
        equip blade

?loc = Caves

    // healing potions are infinite here
    ?loc.begin
        brew tar

    ?hp < 7
        activate potion

    // Fighting
    ?foe.distance < 16
        // General
        equipL ice wand
        equipR ice wand

    // Boss
    ?foe = boss & foe.distance < 20
        equip blade

?loc = Mushroom
    // ?foe.distance >= 16 & foe.distance < 20
    //     equip_dash()

    ?foe.distance < 16
        ?foe = epic_snail | foe = colossal_snail 
            equip blade
        :
            equipL poison wand
            equipR ouroboros

    // Boss
    ?foe = boss & foe.distance < 20
        equip blade